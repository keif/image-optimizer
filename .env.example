# Server Configuration
PORT=8080

# CORS Configuration
# Comma-separated list of allowed origins for cross-origin requests
# For local development:
CORS_ORIGINS=http://localhost:3000,http://localhost:8080
# For production (update with your actual frontend URL):
# CORS_ORIGINS=https://your-frontend.onrender.com,https://your-domain.com

# Database Configuration
DB_PATH=./data/api_keys.db

# Rate Limiting Configuration
# Enable or disable rate limiting (default: true)
RATE_LIMIT_ENABLED=true
# Maximum number of requests allowed (default: 100)
RATE_LIMIT_MAX=100
# Time window for rate limiting (default: 1m)
# Supported formats: 1s, 1m, 1h, etc.
RATE_LIMIT_WINDOW=1m

# API Key Authentication
# Enable or disable API key authentication (default: true)
API_KEY_AUTH_ENABLED=true

# Public Optimization Access
# Enable public access to /optimize, /batch-optimize, and /pack-sprites endpoints without API keys
# This is useful for public web UI instances with rate limiting
# Default: false (secure by default - requires API keys)
# Set to true for public instances like sosquishy.io
PUBLIC_OPTIMIZATION_ENABLED=false

# Example configurations:
# 1. Public website (like sosquishy.io):
#    API_KEY_AUTH_ENABLED=true
#    PUBLIC_OPTIMIZATION_ENABLED=true
#    RATE_LIMIT_ENABLED=true
#
# 2. Private/self-hosted (secure):
#    API_KEY_AUTH_ENABLED=true
#    PUBLIC_OPTIMIZATION_ENABLED=false
#
# 3. Local development (easy testing):
#    API_KEY_AUTH_ENABLED=false
#    PUBLIC_OPTIMIZATION_ENABLED=true

# Domain Whitelist for URL-based Image Fetching
# Comma-separated list of allowed domains
# Empty value means all domains are allowed (not recommended for production)
# Default includes: cloudinary.com, imgur.com, unsplash.com, pexels.com, localhost, 127.0.0.1
ALLOWED_DOMAINS=

# Example with custom domains:
# ALLOWED_DOMAINS=example.com,cdn.example.com,images.mysite.com
